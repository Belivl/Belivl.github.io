---
import BaseHead from "../components/BaseHead.astro";
import Footer from "../components/Footer.astro";
import { getLocale } from "astro-i18n-aut";
import { ViewTransitions } from "astro:transitions";
import bgPic from "../assets/FilmGrainS5.jpg";
import CookieBanner from "../components/ui/CookieBanner.astro";
const locale = getLocale(Astro.url);
---

<script is:inline>
  document.documentElement.classList.add("dark");
</script>
<!--
<script is:inline>
  const getThemePreference = () => {
    if (typeof localStorage !== "undefined" && localStorage.getItem("theme")) {
      return localStorage.getItem("theme");
    }
    return window.matchMedia("(prefers-color-scheme: dark)").matches
      ? "dark"
      : "light";
  };
  const isDark = getThemePreference() === "dark";
  document.documentElement.classList[isDark ? "add" : "remove"]("dark");

  if (typeof localStorage !== "undefined") {
    const observer = new MutationObserver(() => {
      const isDark = document.documentElement.classList.contains("dark");
      localStorage.setItem("theme", isDark ? "dark" : "light");
    });
    observer.observe(document.documentElement, {
      attributes: true,
      attributeFilter: ["class"],
    });
  }
</script>
 -->
<html lang={locale} class="dark">
  <head>
    <!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-MNFGXSGS');</script>
<!-- End Google Tag Manager -->

    <BaseHead
      title="Portfolio Choice"
      description="Enter desired portfolio site"
      image=""
    />
    <ViewTransitions />

    
  </head>
  <body class="bg-grey-500">
    
    <!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-MNFGXSGS"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) -->

    <CookieBanner />
    <!--Background image -->
    <div class="bgColor bg-light dark:bg-grey-500 fixed w-full h-full -z-50">
    </div>
    <img src={bgPic.src} alt="X" class="mainBG" />
    <img
      src="/FlameSide.svg"
      alt="Y"
      class="mainBG2 fixed top-1/2 -translate-y-1/2 left-0 scale-50 md:scale-100 origin-left"
      style="z-index: -10;"
    />
    <img
      src="/FlameSide.svg"
      alt="Y"
      class="mainBG2 fixed top-1/2 -translate-y-1/2 right-0 rotate-180 scale-50 md:scale-100 origin-left translate-x-[100%]"
      style="z-index: -10;"
    />
    <div>
      <main
        id="main"
        class="w-full flex flex-col items-center justify-center p-4 h-full"
      >
        <slot />
      </main>
      <Footer />
    </div>
    <style lang="scss">
      html,
      body {
        height: 100dvh;
      }
      body {
        height: 100dvh;
        display: grid;
        margin-inline: auto;
      }
    </style>
    <!-- 
    <script src="./../js/profileSelector.ts"></script>-->
    <!-- <script type="module" is:inline src="src/js/choiceNavigate.js"></script>
   
    <script type="module" is:inline src="src/js/profile.js"></script>-->
  </body>
</html>
