---
import type { HTMLAttributes } from "astro/types";
interface Props extends HTMLAttributes<"button"> {
  size?: "sm" | "md" | "lg";
  text?;
  link?;
}

const { text = "Default Title", link, size = "md" } = Astro.props;
import { Image } from "astro:assets";
import ringIndentsGrad from "../../assets/GoldCTA/RingIndentsGradient.png";
import ringIndentsLow from "../../assets/GoldCTA/RingIndentsLow.png";
const logoAlt = "The Belial Logo";
---

<a
  href={link}
  class="goldCTAlink bg-goldTips-300 overflow-clip rounded-lg w-full md:w-fit hover:-translate-y-1 transition-all duration-200 ease-in-out"
>
  <button class="goldCTA w-full md:w-fit relative" data-size={size}>
    <div class="flex w-full gap-2 z-10 justify-center items-center">
      <span class="font-extrabold uppercase">{text}</span>
      <slot />
    </div>

    <div
      class="absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 w-[600px] h-[600px]"
      style="z-index: 1;  opacity: 0.8;"
    >
      <Image
        src={ringIndentsLow}
        width={600}
        height={600}
        alt={logoAlt}
        class="indents w-[600px] h-[600px]"
        style="opacity: 0.1; mix-blend-mode: soft-light;"
      />
    </div>
    <div
      class="absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 w-[600px] h-[600px]"
      style="z-index: 2; mix-blend-mode: soft-light; opacity: 0.3;"
    >
      <Image
        src={ringIndentsGrad}
        width={600}
        height={600}
        alt={logoAlt}
        class="indentsGrad w-[600px] h-[600px]"
        style="opacity: 0.1; mix-blend-mode: soft-light;"
      />
    </div>

    <div
      class="w-[600px] h-[600px] centerAbsolute"
      style="z-index: 4; mix-blend-mode: soft-light;"
    >
      <div class="aniso1 whf"></div>
    </div>
    <div
      class="w-[600px] h-[600px] centerAbsolute"
      style="z-index: 5; mix-blend-mode: soft-light; "
    >
      <div class="aniso2 whf"></div>
    </div>

    <div
      class="whf centerAbsolute"
      style="z-index: 6; mix-blend-mode: soft-light;"
    >
      <div
        class="softGold bg-[#D9B166] w-full h-full"
        style="mix-blend-mode: soft-light;"
      >
      </div>
    </div>
  </button>
</a>
<style lang="scss">
  //CTA Gold button
  :root {
    --opacity-aniso1: 0.4;
    --opacity-aniso2: 0.2;
    --opacity-indents: 0.6;
    --opacity-indentsGrad: 0.3;
  }
  .whf {
    width: 100%;
    height: 100%;
  }
  .centerAbsolute {
    position: absolute;
    left: 50%;
    top: 50%;
    transform: translate(-50%, -50%);
  }

  .pCTALarge {
    font-weight: 800;
    line-height: 21px;
    text-transform: uppercase;
    &:hover {
      color: var(--gray-300);
    }
  }
  .goldCTA {
    color: var(--grey-500);
    display: flex;
    flex-direction: row;
    justify-content: center;
    align-items: center;
    position: relative;
    //box-shadow: 0px 5px 10px 1px rgba(25, 25, 24, 0.8)
    border-radius: 8px;
    border: 2px solid var(--col-primary-900);
    isolation: isolate;
    overflow: hidden;

    //&:hover {
    //  border: 2px solid var(--col-primary-700);
    //  color: var(--grey-300);
    // }

    .baseGold {
      //position: absolute;
      //left: 0%;
      //right: 0%;
      //top: 0%;
      //bottom: 0%;
      background: #f0d654;
      //flex: none;
      //order: 0;
      // flex-grow: 0;
      //z-index: 0;
    }
    .indents {
      //position: absolute;
      //width: 300px;
      //height: 300px;
      //left: 50%;
      //top: 50%;
      border-radius: 100%;
      //opacity: 0.2;
      //transform: translate(-50%, -50%);
    }
    .indentsGrad {
      //position: absolute;
      //width: 300px;
      //height: 300px;
      //left: 50%;
      //top: 50%;
      //opacity: 0.5;
      border-radius: 100%;
      //transform: translate(-50%, -50%);
      //mix-blend-mode: soft-light;
    }
    .aniso1 {
      //position: absolute;
      //width: 300px;
      //height: 300px;
      //left: calc(50% - 300px / 2);
      //top: calc(50% - 300px / 2);
      //mix-blend-mode: multiply;
      border-radius: 100%;
      opacity: 0.4;
      background: conic-gradient(
        from 180deg at 50% 50%,
        #000000 0deg,
        #000000 56.25deg,
        #ffffff 88.12deg,
        #000000 101.25deg,
        #000000 146.25deg,
        #ffffff 159.38deg,
        #000000 170.63deg,
        #000000 234.38deg,
        #ffffff 268.13deg,
        #000000 296.25deg,
        #000000 360deg
      );
      transition: transform 0.3s;
      transition-timing-function: ease-out;
      animation: goldRotate 12s cubic-bezier(0.8, 0.2, 0.165, 0.8) infinite;
    }
    .aniso2 {
      //position: absolute;
      //width: 300px;
      //height: 300px;
      //left: calc(50% - 300px / 2);
      //top: calc(50% - 300px / 2);
      //mix-blend-mode: multiply;
      border-radius: 100%;
      //border: 0;
      opacity: 0.2;
      transform: rotate(-120deg);
      -webkit-transform: rotate(-120deg);
      background: conic-gradient(
        from 180deg at 50% 50%,
        #000000 0deg,
        #000000 56.25deg,
        #ffffff 88.12deg,
        #000000 101.25deg,
        #000000 146.25deg,
        #ffffff 159.38deg,
        #000000 170.63deg,
        #000000 234.38deg,
        #ffffff 268.13deg,
        #000000 296.25deg,
        #000000 360deg
      );
      transition: transform 0.3s;
      transition-timing-function: ease-out;
      animation: goldRotate 16s cubic-bezier(0.8, 0.2, 0.165, 0.8) infinite;
    }
    .softGold {
      //position: absolute;
      //left: 0px;
      //right: 0px;
      //top: 0px;
      //bottom: 0px;
      background: var(--col-primary-600);
      //mix-blend-mode: soft-light;
    }
  }
  [data-size="sm"] {
    font-size: 0.8rem;
    height: 2.25rem;
    padding: 12px 16px;
  }
  [data-size="md"] {
    font-size: 1rem;
    height: 2.5rem;
    padding: 12px 24px;
  }
  [data-size="lg"] {
    font-size: 1.2rem;
    height: 2.75rem;
    padding: 12px 24px;
  }
  @keyframes goldRotate {
    from {
      transform: rotate(0deg);
      --webkit-transform: rotate(0deg);
    }
    to {
      transform: rotate(360deg);
      --webkit-transform: rotate(360deg);
    }
  }
</style>
